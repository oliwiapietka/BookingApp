{"ast":null,"code":"import _slicedToArray from\"/Users/Oliwia/bookingapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import NavBar from\"../../components/NavBar/NavBar\";import Footer from\"../../components/Footer/Footer\";import\"./SearchResultPage.css\";import{useLocation}from\"react-router-dom\";import{format}from\"date-fns\";import{DateRange}from\"react-date-range\";import SearchItem from\"../../components/SearchItem/SearchItem\";import useFetch from\"../../hooks/useFetch\";import{MoonLoader}from\"react-spinners\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchResultPage=function SearchResultPage(){var location=useLocation();var _useState=useState(location.state.destination),_useState2=_slicedToArray(_useState,2),destination=_useState2[0],setDestination=_useState2[1];var _useState3=useState(location.state.details),_useState4=_slicedToArray(_useState3,2),details=_useState4[0],setDetails=_useState4[1];var _useState5=useState(location.state.dates),_useState6=_slicedToArray(_useState5,2),dates=_useState6[0],setDates=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openDate=_useState8[0],setOpenDate=_useState8[1];var _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),min=_useState10[0],setMin=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),max=_useState12[0],setMax=_useState12[1];var _useFetch=useFetch(\"/hotels?city=\".concat(destination,\"&min=\").concat(min||0,\"&max=\").concat(max||999)),data=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error,reFetch=_useFetch.reFetch;var handleClickButton=function handleClickButton(){reFetch();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-search-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"result-page-search-text\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"search-text\",children:\"Search\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-destination-and-dates\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-destination-text\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"result-page-search\",children:\"Destination\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:destination,className:\"result-page-search-input\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-dates\",onClick:function onClick(){return setOpenDate(!openDate);},children:[/*#__PURE__*/_jsx(\"p\",{className:\"result-page-search\",children:\"Check-in date\"}),/*#__PURE__*/_jsx(\"span\",{className:\"result-page-search-date\",children:\"\".concat(format(dates[0].startDate,\"dd/MM/yyyy\"),\" to \").concat(format(dates[0].endDate,\"dd/MM/yyyy\"))}),openDate&&/*#__PURE__*/_jsx(DateRange,{className:\"result-page-calendar\",onChange:function onChange(item){return setDates([item.selection]);},ranges:dates,minDate:new Date()})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"result-page-options-text\",children:\"Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-options-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-options\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Min price (per night)\"}),/*#__PURE__*/_jsx(\"input\",{className:\"result-page-options-input\",type:\"number\",onChange:function onChange(e){return setMin(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-options\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Max price (per night)\"}),/*#__PURE__*/_jsx(\"input\",{className:\"result-page-options-input\",type:\"number\",onChange:function onChange(e){return setMax(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-options\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Adults\"}),/*#__PURE__*/_jsx(\"input\",{min:1,placeholder:details.adult,className:\"result-page-options-input\",type:\"number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-options\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Childrens\"}),/*#__PURE__*/_jsx(\"input\",{min:0,placeholder:details.children,className:\"result-page-options-input\",type:\"number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-page-options\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Rooms\"}),/*#__PURE__*/_jsx(\"input\",{min:1,placeholder:details.room,className:\"result-page-options-input\",type:\"number\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"result-page-search-btn\",onClick:handleClickButton,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"result-page-search-item\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"search-result-loading\",children:/*#__PURE__*/_jsx(MoonLoader,{})}):/*#__PURE__*/_jsx(_Fragment,{children:data.map(function(item){return/*#__PURE__*/_jsx(SearchItem,{item:item},item._id);})})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default SearchResultPage;","map":{"version":3,"names":["React","useState","NavBar","Footer","useLocation","format","DateRange","SearchItem","useFetch","MoonLoader","SearchResultPage","location","state","destination","setDestination","details","setDetails","dates","setDates","openDate","setOpenDate","undefined","min","setMin","max","setMax","data","loading","error","reFetch","handleClickButton","startDate","endDate","item","selection","Date","e","target","value","adult","children","room","map","_id"],"sources":["/Users/Oliwia/bookingapp/client/src/screens/SearchResultPage/SearchResultPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport NavBar from \"../../components/NavBar/NavBar\";\nimport Footer from \"../../components/Footer/Footer\";\nimport \"./SearchResultPage.css\";\nimport { useLocation } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { DateRange } from \"react-date-range\";\nimport SearchItem from \"../../components/SearchItem/SearchItem\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { MoonLoader } from \"react-spinners\";\n\nconst SearchResultPage = () => {\n  const location = useLocation();\n  const [destination, setDestination] = useState(location.state.destination);\n  const [details, setDetails] = useState(location.state.details);\n  const [dates, setDates] = useState(location.state.dates);\n  const [openDate, setOpenDate] = useState(false);\n  const [min, setMin] = useState(undefined);\n  const [max, setMax] = useState(undefined);\n\n  const { data, loading, error, reFetch } = useFetch(\n    `/hotels?city=${destination}&min=${min || 0}&max=${max || 999}`\n  );\n\n  const handleClickButton = () => {\n    reFetch();\n  };\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"result-page\">\n        <div className=\"result-page-search-container\">\n          <div className=\"result-page-search-text\">\n            <h1 className=\"search-text\">Search</h1>\n          </div>\n          <div className=\"result-page-destination-and-dates\">\n            <div className=\"result-page-destination-text\">\n              <p className=\"result-page-search\">Destination</p>\n              <input\n                placeholder={destination}\n                className=\"result-page-search-input\"\n                type=\"text\"\n              />\n            </div>\n            <div\n              className=\"result-page-dates\"\n              onClick={() => setOpenDate(!openDate)}\n            >\n              <p className=\"result-page-search\">Check-in date</p>\n              <span className=\"result-page-search-date\">\n                {`${format(dates[0].startDate, \"dd/MM/yyyy\")} to ${format(\n                  dates[0].endDate,\n                  \"dd/MM/yyyy\"\n                )}`}\n              </span>\n              {openDate && (\n                <DateRange\n                  className=\"result-page-calendar\"\n                  onChange={(item) => setDates([item.selection])}\n                  ranges={dates}\n                  minDate={new Date()}\n                />\n              )}\n            </div>\n          </div>\n          <div>\n            <p className=\"result-page-options-text\">Options</p>\n            <div className=\"result-page-options-container\">\n              <div className=\"result-page-options\">\n                <p>Min price (per night)</p>\n                <input\n                  className=\"result-page-options-input\"\n                  type=\"number\"\n                  onChange={(e) => setMin(e.target.value)}\n                />\n              </div>\n              <div className=\"result-page-options\">\n                <p>Max price (per night)</p>\n                <input\n                  className=\"result-page-options-input\"\n                  type=\"number\"\n                  onChange={(e) => setMax(e.target.value)}\n                />\n              </div>\n              <div className=\"result-page-options\">\n                <p>Adults</p>\n                <input\n                  min={1}\n                  placeholder={details.adult}\n                  className=\"result-page-options-input\"\n                  type=\"number\"\n                />\n              </div>\n              <div className=\"result-page-options\">\n                <p>Childrens</p>\n                <input\n                  min={0}\n                  placeholder={details.children}\n                  className=\"result-page-options-input\"\n                  type=\"number\"\n                />\n              </div>\n              <div className=\"result-page-options\">\n                <p>Rooms</p>\n                <input\n                  min={1}\n                  placeholder={details.room}\n                  className=\"result-page-options-input\"\n                  type=\"number\"\n                />\n              </div>\n            </div>\n          </div>\n          <button\n            className=\"result-page-search-btn\"\n            onClick={handleClickButton}\n          >\n            Search\n          </button>\n        </div>\n        <div className=\"result-page-search-item\">\n          {loading ? (\n            <div className=\"search-result-loading\">\n              <MoonLoader />\n            </div>\n          ) : (\n            <>\n              {data.map((item) => (\n                <SearchItem item={item} key={item._id} />\n              ))}\n            </>\n          )}\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default SearchResultPage;\n"],"mappings":"qHAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,OAAP,KAAmB,gCAAnB,CACA,MAAOC,OAAP,KAAmB,gCAAnB,CACA,MAAO,wBAAP,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,WAAP,KAAuB,wCAAvB,CACA,MAAOC,SAAP,KAAqB,sBAArB,CACA,OAASC,UAAT,KAA2B,gBAA3B,C,6IAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7B,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,cAAsCH,QAAQ,CAACU,QAAQ,CAACC,KAAT,CAAeC,WAAhB,CAA9C,wCAAOA,WAAP,eAAoBC,cAApB,eACA,eAA8Bb,QAAQ,CAACU,QAAQ,CAACC,KAAT,CAAeG,OAAhB,CAAtC,yCAAOA,OAAP,eAAgBC,UAAhB,eACA,eAA0Bf,QAAQ,CAACU,QAAQ,CAACC,KAAT,CAAeK,KAAhB,CAAlC,yCAAOA,KAAP,eAAcC,QAAd,eACA,eAAgCjB,QAAQ,CAAC,KAAD,CAAxC,yCAAOkB,QAAP,eAAiBC,WAAjB,eACA,eAAsBnB,QAAQ,CAACoB,SAAD,CAA9B,0CAAOC,GAAP,gBAAYC,MAAZ,gBACA,gBAAsBtB,QAAQ,CAACoB,SAAD,CAA9B,2CAAOG,GAAP,gBAAYC,MAAZ,gBAEA,cAA0CjB,QAAQ,wBAChCK,WADgC,iBACbS,GAAG,EAAI,CADM,iBACGE,GAAG,EAAI,GADV,EAAlD,CAAQE,IAAR,WAAQA,IAAR,CAAcC,OAAd,WAAcA,OAAd,CAAuBC,KAAvB,WAAuBA,KAAvB,CAA8BC,OAA9B,WAA8BA,OAA9B,CAIA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9BD,OAAO,GACR,CAFD,CAIA,mBACE,oCACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,8BAAf,wBACE,YAAK,SAAS,CAAC,yBAAf,uBACE,WAAI,SAAS,CAAC,aAAd,oBADF,EADF,cAIE,aAAK,SAAS,CAAC,mCAAf,wBACE,aAAK,SAAS,CAAC,8BAAf,wBACE,UAAG,SAAS,CAAC,oBAAb,yBADF,cAEE,cACE,WAAW,CAAEhB,WADf,CAEE,SAAS,CAAC,0BAFZ,CAGE,IAAI,CAAC,MAHP,EAFF,GADF,cASE,aACE,SAAS,CAAC,mBADZ,CAEE,OAAO,CAAE,yBAAMO,YAAW,CAAC,CAACD,QAAF,CAAjB,EAFX,wBAIE,UAAG,SAAS,CAAC,oBAAb,2BAJF,cAKE,aAAM,SAAS,CAAC,yBAAhB,oBACMd,MAAM,CAACY,KAAK,CAAC,CAAD,CAAL,CAASc,SAAV,CAAqB,YAArB,CADZ,gBACqD1B,MAAM,CACvDY,KAAK,CAAC,CAAD,CAAL,CAASe,OAD8C,CAEvD,YAFuD,CAD3D,GALF,CAWGb,QAAQ,eACP,KAAC,SAAD,EACE,SAAS,CAAC,sBADZ,CAEE,QAAQ,CAAE,kBAACc,IAAD,QAAUf,SAAQ,CAAC,CAACe,IAAI,CAACC,SAAN,CAAD,CAAlB,EAFZ,CAGE,MAAM,CAAEjB,KAHV,CAIE,OAAO,CAAE,GAAIkB,KAAJ,EAJX,EAZJ,GATF,GAJF,cAkCE,oCACE,UAAG,SAAS,CAAC,0BAAb,qBADF,cAEE,aAAK,SAAS,CAAC,+BAAf,wBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,4CADF,cAEE,cACE,SAAS,CAAC,2BADZ,CAEE,IAAI,CAAC,QAFP,CAGE,QAAQ,CAAE,kBAACC,CAAD,QAAOb,OAAM,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAHZ,EAFF,GADF,cASE,aAAK,SAAS,CAAC,qBAAf,wBACE,4CADF,cAEE,cACE,SAAS,CAAC,2BADZ,CAEE,IAAI,CAAC,QAFP,CAGE,QAAQ,CAAE,kBAACF,CAAD,QAAOX,OAAM,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAHZ,EAFF,GATF,cAiBE,aAAK,SAAS,CAAC,qBAAf,wBACE,6BADF,cAEE,cACE,GAAG,CAAE,CADP,CAEE,WAAW,CAAEvB,OAAO,CAACwB,KAFvB,CAGE,SAAS,CAAC,2BAHZ,CAIE,IAAI,CAAC,QAJP,EAFF,GAjBF,cA0BE,aAAK,SAAS,CAAC,qBAAf,wBACE,gCADF,cAEE,cACE,GAAG,CAAE,CADP,CAEE,WAAW,CAAExB,OAAO,CAACyB,QAFvB,CAGE,SAAS,CAAC,2BAHZ,CAIE,IAAI,CAAC,QAJP,EAFF,GA1BF,cAmCE,aAAK,SAAS,CAAC,qBAAf,wBACE,4BADF,cAEE,cACE,GAAG,CAAE,CADP,CAEE,WAAW,CAAEzB,OAAO,CAAC0B,IAFvB,CAGE,SAAS,CAAC,2BAHZ,CAIE,IAAI,CAAC,QAJP,EAFF,GAnCF,GAFF,GAlCF,cAkFE,eACE,SAAS,CAAC,wBADZ,CAEE,OAAO,CAAEX,iBAFX,oBAlFF,GADF,cA0FE,YAAK,SAAS,CAAC,yBAAf,UACGH,OAAO,cACN,YAAK,SAAS,CAAC,uBAAf,uBACE,KAAC,UAAD,IADF,EADM,cAKN,yBACGD,IAAI,CAACgB,GAAL,CAAS,SAACT,IAAD,qBACR,KAAC,UAAD,EAAY,IAAI,CAAEA,IAAlB,EAA6BA,IAAI,CAACU,GAAlC,CADQ,EAAT,CADH,EANJ,EA1FF,GAFF,cA0GE,KAAC,MAAD,IA1GF,GADF,CA8GD,CA/HD,CAiIA,cAAejC,iBAAf"},"metadata":{},"sourceType":"module"}