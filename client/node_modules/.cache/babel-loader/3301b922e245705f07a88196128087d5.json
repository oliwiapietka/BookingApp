{"ast":null,"code":"import _defineProperty from\"/Users/Oliwia/bookingapp/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/Oliwia/bookingapp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Oliwia/bookingapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import\"./SearchBar.css\";import{DateRange}from\"react-date-range\";import\"react-date-range/dist/styles.css\";// main css file\nimport\"react-date-range/dist/theme/default.css\";// theme css file\nimport{format}from\"date-fns\";import{parseWithOptions}from\"date-fns/fp\";import{useNavigate}from\"react-router-dom\";import{SearchContext}from\"../../context/SearchContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=function SearchBar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openDate=_useState2[0],setOpenDate=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),destination=_useState4[0],setDestination=_useState4[1];var _useState5=useState([{startDate:new Date(),endDate:new Date(),key:\"selection\"}]),_useState6=_slicedToArray(_useState5,2),dates=_useState6[0],setDates=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openDetails=_useState8[0],setOpenDetails=_useState8[1];var _useState9=useState({adult:1,children:0,room:1}),_useState10=_slicedToArray(_useState9,2),details=_useState10[0],setDetails=_useState10[1];var handleOption=function handleOption(name,operation){setDetails(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,operation===\"i\"?details[name]+1:details[name]-1));});};var _useContext=useContext(SearchContext),dispatch=_useContext.dispatch;var onChangeHandler=function onChangeHandler(e){e.preventDefault();setDestination(e.target.value);};var navigate=useNavigate();var handleSearch=function handleSearch(){dispatch({type:\"NEW_SEARCH\",payload:{destination:destination,dates:dates,details:details}});navigate(\"/hotels\",{state:{destination:destination,dates:dates,details:details}});};return/*#__PURE__*/_jsx(\"div\",{className:\"search-bar-container-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar-input-container\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"airplane-sharp\"}),/*#__PURE__*/_jsx(\"input\",{className:\"search-bar-input\",type:\"text\",placeholder:\"Where are you going?\",onChange:onChangeHandler,value:destination})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar-date\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"calendar-sharp\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setOpenDate(!openDate);},className:\"search-bar-stay-time\",children:\"\".concat(format(dates[0].startDate,\"dd/MM/yyyy\"),\" to\\n          \").concat(format(dates[0].endDate,\"dd/MM/yyyy\"))}),openDate&&/*#__PURE__*/_jsx(DateRange,{editableDateInputs:true,onChange:function onChange(item){return setDates([item.selection]);},moveRangeOnFirstSelection:false,ranges:dates,minDate:new Date(),className:\"date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar-details-container\",children:[/*#__PURE__*/_jsx(\"ion-icon\",{name:\"person-sharp\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setOpenDetails(!openDetails);},className:\"search-bar-details\",children:\"\".concat(details.adult,\" adult, \").concat(details.children,\" children, \").concat(details.room,\" room\")}),openDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"option-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"option-text\",children:\"Adult\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"option\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:details.adult<=1,className:\"option-btn\",onClick:function onClick(){return handleOption(\"adult\",\"d\");},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"option-number\",children:details.adult}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn\",onClick:function onClick(){return handleOption(\"adult\",\"i\");},children:\"+\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"option-text\",children:\"Children\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"option\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:details.children<=0,className:\"option-btn\",onClick:function onClick(){return handleOption(\"children\",\"d\");},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"option-number\",children:details.children}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn\",onClick:function onClick(){return handleOption(\"children\",\"i\");},children:\"+\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"option-text\",children:\"Room\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"option\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:details.room<=1,className:\"option-btn\",onClick:function onClick(){return handleOption(\"room\",\"d\");},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"option-number\",children:details.room}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn\",onClick:function onClick(){return handleOption(\"room\",\"i\");},children:\"+\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{onClick:handleSearch,className:\"search-bar-search-btn\",children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"search\"})})]})});};export default SearchBar;","map":{"version":3,"names":["React","useContext","useState","DateRange","format","parseWithOptions","useNavigate","SearchContext","SearchBar","openDate","setOpenDate","destination","setDestination","startDate","Date","endDate","key","dates","setDates","openDetails","setOpenDetails","adult","children","room","details","setDetails","handleOption","name","operation","prev","dispatch","onChangeHandler","e","preventDefault","target","value","navigate","handleSearch","type","payload","state","item","selection"],"sources":["/Users/Oliwia/bookingapp/client/src/components/SearchBar/SearchBar.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport \"./SearchBar.css\";\nimport { DateRange } from \"react-date-range\";\nimport \"react-date-range/dist/styles.css\"; // main css file\nimport \"react-date-range/dist/theme/default.css\"; // theme css file\nimport { format } from \"date-fns\";\nimport { parseWithOptions } from \"date-fns/fp\";\nimport { useNavigate } from \"react-router-dom\";\nimport { SearchContext } from \"../../context/SearchContext\";\n\nconst SearchBar = () => {\n  const [openDate, setOpenDate] = useState(false);\n  const [destination, setDestination] = useState(\"\");\n\n  const [dates, setDates] = useState([\n    {\n      startDate: new Date(),\n      endDate: new Date(),\n      key: \"selection\",\n    },\n  ]);\n\n  const [openDetails, setOpenDetails] = useState(false);\n  const [details, setDetails] = useState({\n    adult: 1,\n    children: 0,\n    room: 1,\n  });\n\n  const handleOption = (name, operation) => {\n    setDetails((prev) => {\n      return {\n        ...prev,\n        [name]: operation === \"i\" ? details[name] + 1 : details[name] - 1,\n      };\n    });\n  };\n\n  const { dispatch } = useContext(SearchContext);\n\n  const onChangeHandler = (e) => {\n    e.preventDefault();\n    setDestination(e.target.value);\n  };\n\n  const navigate = useNavigate();\n\n  const handleSearch = () => {\n    dispatch({ type: \"NEW_SEARCH\", payload: { destination, dates, details } });\n    navigate(\"/hotels\", { state: { destination, dates, details } });\n  };\n\n  return (\n    <div className=\"search-bar-container-main\">\n      <div className=\"search-bar-container\">\n        <div className=\"search-bar-input-container\">\n          <ion-icon name=\"airplane-sharp\"></ion-icon>\n          <input\n            className=\"search-bar-input\"\n            type=\"text\"\n            placeholder=\"Where are you going?\"\n            onChange={onChangeHandler}\n            value={destination}\n          />\n        </div>\n        <div className=\"search-bar-date\">\n          <ion-icon name=\"calendar-sharp\"></ion-icon>\n          <div\n            onClick={() => setOpenDate(!openDate)}\n            className=\"search-bar-stay-time\"\n          >\n            {`${format(dates[0].startDate, \"dd/MM/yyyy\")} to\n          ${format(dates[0].endDate, \"dd/MM/yyyy\")}`}\n          </div>\n          {openDate && (\n            <DateRange\n              editableDateInputs={true}\n              onChange={(item) => setDates([item.selection])}\n              moveRangeOnFirstSelection={false}\n              ranges={dates}\n              minDate={new Date()}\n              className=\"date\"\n            />\n          )}\n        </div>\n        <div className=\"search-bar-details-container\">\n          <ion-icon name=\"person-sharp\"></ion-icon>\n          <div\n            onClick={() => setOpenDetails(!openDetails)}\n            className=\"search-bar-details\"\n          >{`${details.adult} adult, ${details.children} children, ${details.room} room`}</div>\n          {openDetails && (\n            <div className=\"options\">\n              <div className=\"option-item\">\n                <span className=\"option-text\">Adult</span>\n                <div className=\"option\">\n                  <button\n                    disabled={details.adult <= 1}\n                    className=\"option-btn\"\n                    onClick={() => handleOption(\"adult\", \"d\")}\n                  >\n                    -\n                  </button>\n                  <span className=\"option-number\">{details.adult}</span>\n                  <button\n                    className=\"option-btn\"\n                    onClick={() => handleOption(\"adult\", \"i\")}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n              <div className=\"option-item\">\n                <span className=\"option-text\">Children</span>\n                <div className=\"option\">\n                  <button\n                    disabled={details.children <= 0}\n                    className=\"option-btn\"\n                    onClick={() => handleOption(\"children\", \"d\")}\n                  >\n                    -\n                  </button>\n                  <span className=\"option-number\">{details.children}</span>\n                  <button\n                    className=\"option-btn\"\n                    onClick={() => handleOption(\"children\", \"i\")}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n              <div className=\"option-item\">\n                <span className=\"option-text\">Room</span>\n                <div className=\"option\">\n                  <button\n                    disabled={details.room <= 1}\n                    className=\"option-btn\"\n                    onClick={() => handleOption(\"room\", \"d\")}\n                  >\n                    -\n                  </button>\n                  <span className=\"option-number\">{details.room}</span>\n                  <button\n                    className=\"option-btn\"\n                    onClick={() => handleOption(\"room\", \"i\")}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        <div onClick={handleSearch} className=\"search-bar-search-btn\">\n          <ion-icon name=\"search\"></ion-icon>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}